{"ast":null,"code":"var _jsxFileName = \"/Users/tingbowang/Documents/GitHub/WEB503-Project3/todolist-app-login/src/Login.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from 'axios';\nimport { Watch } from 'react-loader-spinner';\nimport { useNavigate } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faWarning, faQuestionCircle } from '@fortawesome/free-solid-svg-icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = () => {\n  _s();\n  //Icons\n  const warnWrongPass = /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n    icon: faWarning\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 12,\n    columnNumber: 27\n  }, this);\n  const notFound = /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n    icon: faQuestionCircle\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 13,\n    columnNumber: 22\n  }, this);\n\n  // Navigation\n  let navigate = useNavigate();\n\n  // States\n  const [email, setLoginEmail] = useState(\"\");\n  const [password, setLoginPass] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [success, setSuccess] = useState(false);\n  const [wrongPass, setWrongPass] = useState(2);\n  useEffect(() => {\n    if (parseInt(localStorage.getItem('gotologin')) === 2) {\n      setSuccess(true);\n    } else {\n      setSuccess(false);\n    }\n  }, []);\n  const userLogin = e => {\n    e.preventDefault();\n    setLoading(true);\n    axios.post(`http://localhost:8000/login`, {\n      email,\n      password\n    }).then(res => {\n      // << code 1 >> is sent by the backend when user password matches the entered password so we will let him login and redirect to the todos page\n      if (res.data.code === 1) {\n        localStorage.setItem('UserID', res.data.userid);\n        localStorage.setItem('UserName', res.data.name);\n        navigate(\"/todos\");\n      } else if (res.data.code === -1) {\n        navigate(\"/login\");\n        setWrongPass(1);\n      } else {\n        navigate(\"/login\");\n        setWrongPass(0);\n      }\n\n      // resetting the fields to their normal state (empty)\n      setLoginEmail(\"\");\n      setLoginPass(\"\");\n      setLoading(false);\n    });\n  };\n  const toSignup = () => {\n    navigate(\"/signup\");\n  };\n\n  // Msgs for different condition\n  const wrongPassMsg = /*#__PURE__*/_jsxDEV(\"h3\", {\n    style: wrongPassStyle,\n    children: [warnWrongPass, \"\\xA0\\xA0\\xA0\\xA0You Entered Incorrect Login Details please try with another\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 26\n  }, this);\n  const wrongPassMsgnotFound = /*#__PURE__*/_jsxDEV(\"h3\", {\n    style: wrongPassStyle,\n    children: [notFound, \"  \\xA0\\xA0\\xA0\\xA0  User not found click on signup first \", /*#__PURE__*/_jsxDEV(\"button\", {\n      style: tosignupBtn,\n      onClick: toSignup,\n      children: \"Signup\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 136\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 34\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: mainDiv,\n    children: [loading && /*#__PURE__*/_jsxDEV(Watch, {\n      heigth: \"100\",\n      width: \"100\",\n      color: \"#a866c4\",\n      ariaLabel: \"loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }, this), wrongPass === 1 && wrongPassMsg, wrongPass === 0 && wrongPassMsgnotFound, success && /*#__PURE__*/_jsxDEV(\"h3\", {\n      style: sucessRegister,\n      children: \"Now you can login with your registered email and password\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 25\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: inputFields,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: userLogin,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          value: email,\n          onChange: val => {\n            setLoginEmail(val.target.value);\n          },\n          style: inputField,\n          name: \"email\",\n          placeholder: \"Enter email...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          onChange: val => {\n            setLoginPass(val.target.value);\n          },\n          style: inputField,\n          name: \"password\",\n          placeholder: \"Enter password...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          style: submitBtn,\n          value: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"6cvhJ3OESZb3vZbH2oVz+Znh/a0=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nconst inputField = {\n  padding: \"5px\",\n  margin: \"10px 0px\",\n  width: \"100%\",\n  fontSize: \"17px\"\n};\nconst sucessRegister = {\n  backgroundColor: '#a3c9b2',\n  fontWeight: \"bold\",\n  borderRadius: \"12px\",\n  padding: \"15px\",\n  color: \"green\"\n};\nconst inputFields = {\n  display: \"flex\",\n  flexDirection: \"column\"\n};\nconst wrongPassStyle = {\n  color: \"red\",\n  backgroundColor: \"#fab9c6\",\n  fontWeight: \"bold\",\n  borderRadius: \"12px\",\n  padding: \"15px\"\n};\nconst submitBtn = {\n  padding: \"12px 0px\",\n  width: \"7rem\",\n  fontSize: \"17px\",\n  borderRadius: \"8px\",\n  border: \"none\",\n  color: \"white\",\n  fontWeight: \"bold\",\n  margin: \"20px 5px\",\n  backgroundColor: \"#a866c4\"\n};\nconst tosignupBtn = {\n  padding: \"12px 0px\",\n  width: \"7rem\",\n  fontSize: \"17px\",\n  borderRadius: \"8px\",\n  border: \"none\",\n  color: \"white\",\n  fontWeight: \"bold\",\n  margin: \"0px 15px\",\n  backgroundColor: \"#a866c4\"\n};\nconst mainDiv = {\n  padding: \"18px\",\n  border: \"2px solid black\",\n  margin: \"5%\",\n  borderRadius: \"15px\"\n};\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["useState","useEffect","axios","Watch","useNavigate","FontAwesomeIcon","faWarning","faQuestionCircle","Login","warnWrongPass","notFound","navigate","email","setLoginEmail","password","setLoginPass","loading","setLoading","success","setSuccess","wrongPass","setWrongPass","parseInt","localStorage","getItem","userLogin","e","preventDefault","post","then","res","data","code","setItem","userid","name","toSignup","wrongPassMsg","wrongPassStyle","wrongPassMsgnotFound","tosignupBtn","mainDiv","sucessRegister","inputFields","val","target","value","inputField","submitBtn","padding","margin","width","fontSize","backgroundColor","fontWeight","borderRadius","color","display","flexDirection","border"],"sources":["/Users/tingbowang/Documents/GitHub/WEB503-Project3/todolist-app-login/src/Login.jsx"],"sourcesContent":["\nimport { useState,useEffect } from \"react\"\nimport axios from 'axios'\nimport { Watch } from  'react-loader-spinner'\nimport { useNavigate } from \"react-router-dom\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\"\nimport { faWarning, faQuestionCircle } from '@fortawesome/free-solid-svg-icons'\n\nexport const Login = ()=>{\n\n    //Icons\n    const warnWrongPass = <FontAwesomeIcon icon={faWarning} />\n    const notFound = <FontAwesomeIcon icon={faQuestionCircle} />\n\n    // Navigation\n    let navigate = useNavigate();\n\n    // States\n    const [email, setLoginEmail] = useState(\"\");\n    const [password, setLoginPass] = useState(\"\");\n    const [loading,setLoading] = useState(false)\n    const [success,setSuccess] = useState(false)\n    const [wrongPass, setWrongPass] = useState(2);\n\n    useEffect(() => {\n\n        if(parseInt(localStorage.getItem('gotologin')) === 2) {\n            setSuccess(true)\n        }\n        else {\n            setSuccess(false)\n        }\n    },[])\n\n    const userLogin = (e)=>{\n        e.preventDefault()\n        \n        setLoading(true)\n            axios.post(`http://localhost:8000/login`, { email,password })\n            .then(res => {\n                // << code 1 >> is sent by the backend when user password matches the entered password so we will let him login and redirect to the todos page\n                if(res.data.code === 1) {\n                    localStorage.setItem('UserID', res.data.userid);\n                    localStorage.setItem('UserName',res.data.name);\n                    navigate(\"/todos\");\n                }\n                else if(res.data.code === -1){\n                    navigate(\"/login\")\n                    setWrongPass(1)\n                }else{\n                    navigate(\"/login\")\n                    setWrongPass(0)\n                }\n\n                // resetting the fields to their normal state (empty)\n                setLoginEmail(\"\")\n                setLoginPass(\"\")\n                setLoading(false)\n            })\n    }\n\n    const toSignup = ()=>{\n        navigate(\"/signup\")\n    }\n\n    // Msgs for different condition\n    const wrongPassMsg = <h3 style={wrongPassStyle}>{warnWrongPass}&nbsp;&nbsp;&nbsp;&nbsp;You Entered Incorrect Login Details please try with another</h3>\n    const wrongPassMsgnotFound = <h3 style={wrongPassStyle}>{notFound}  &nbsp;&nbsp;&nbsp;&nbsp;  User not found click on signup first <button style={tosignupBtn} onClick={toSignup}>Signup</button></h3>\n\n    return (\n        <div style={mainDiv}>\n            {/* Loader until login */}\n            {loading && <Watch heigth=\"100\" width=\"100\" color=\"#a866c4\" ariaLabel='loading'/>}\n            {wrongPass=== 1 && wrongPassMsg}\n            {wrongPass=== 0 && wrongPassMsgnotFound}\n\n            {success && <h3 style={sucessRegister}>Now you can login with your registered email and password</h3>}\n\n            {/* {signuptoLogin && <h3 style={sucessRegister}>Now you can login with your registered email and password</h3>} */}\n            <h2>Login</h2>\n            <div style={inputFields}>\n                <form onSubmit={userLogin}>\n                    <input \n                        type=\"email\" \n                        value={email} \n                        onChange={(val)=>{\n                            setLoginEmail(val.target.value\n                        )}} \n                        style={inputField} \n                        name=\"email\" \n                        placeholder=\"Enter email...\"\n                    />\n                    <input \n                        type=\"password\" \n                        value={password} \n                        onChange={(val)=>{\n                            setLoginPass(val.target.value)\n                        }} \n                        style={inputField} \n                        name=\"password\" \n                        placeholder=\"Enter password...\"\n                    />\n                    <input \n                        type=\"submit\" \n                        style={submitBtn} \n                        value=\"Login\"\n                    />\n                </form>\n            </div>\n        </div>\n    )\n}\n\nconst inputField = {\n    padding:\"5px\",\n    margin:\"10px 0px\",\n    width: \"100%\",\n    fontSize: \"17px\"\n}\n\nconst sucessRegister = {\n    backgroundColor: '#a3c9b2',\n    fontWeight: \"bold\",\n    borderRadius: \"12px\",\n    padding: \"15px\",\n    color: \"green\"\n}\n\nconst inputFields = {\n    display: \"flex\",\n    flexDirection: \"column\"\n}\n\nconst wrongPassStyle = {\n    color: \"red\",\n    backgroundColor: \"#fab9c6\",\n    fontWeight: \"bold\",\n    borderRadius: \"12px\",\n    padding: \"15px\"\n}\n\nconst submitBtn = {\n    padding: \"12px 0px\",\n    width: \"7rem\",\n    fontSize: \"17px\",\n    borderRadius: \"8px\",\n    border: \"none\",\n    color:\"white\",\n    fontWeight:\"bold\",\n    margin: \"20px 5px\",\n    backgroundColor: \"#a866c4\"\n}\nconst tosignupBtn = {\n    padding: \"12px 0px\",\n    width: \"7rem\",\n    fontSize: \"17px\",\n    borderRadius: \"8px\",\n    border: \"none\",\n    color:\"white\",\n    fontWeight:\"bold\",\n    margin: \"0px 15px\",\n    backgroundColor: \"#a866c4\"\n}\n\nconst mainDiv = {\n    padding:\"18px\",\n    border:\"2px solid black\",\n    margin:\"5%\",\n    borderRadius:\"15px\"\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}