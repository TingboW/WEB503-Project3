{"ast":null,"code":"var _jsxFileName = \"/Users/tingbowang/Documents/GitHub/WEB503-Project3/todolist-app/src/Todo.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from 'axios';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Watch } from 'react-loader-spinner';\nimport { useNavigate } from \"react-router-dom\";\nimport './todo.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Todo = () => {\n  _s();\n\n  let navigate = useNavigate();\n  const inputRef = useRef(); // State variables\n\n  const [enteredTodos, setEnteredTodos] = useState({\n    items: []\n  });\n  const [enteredTodo, setEnteredTodo] = useState(\"\");\n  const [enteredDesc, setEnteredDesc] = useState(\"\");\n  const [loading, setLoading] = useState(false); // showing the Update todo button when the edit button is clicked instead Add todo\n\n  const [isEdit, setIsEdit] = useState(0); // giving the position of the todo in array which is to be updated\n\n  const [posEdit, setPosEdit] = useState(null);\n  let [time, setTime] = useState(\"01 January 2022\");\n  useEffect(() => {\n    // here we can see that if the userId of the user is not exists in the localStorage user will navigate to the login page for login\n    if (!localStorage.getItem('UserID')) {\n      navigate(\"/login\");\n    }\n  }, [navigate]);\n  useEffect(() => {\n    // console.log(localStorage.getItem('UserID'));\n    axios.post(\"http://localhost:8000/gettodos\", {\n      userid: localStorage.getItem('UserID')\n    }).then(res => {\n      // console.log(res.data);\n      setEnteredTodos({\n        items: res.data.todos\n      });\n    });\n  }, []);\n  setInterval(() => {\n    setTime(new Date().toLocaleTimeString());\n  }, 1000);\n\n  const addTodo = (newTodo, newDesc) => {\n    const mytodo = {\n      todo: newTodo,\n      desc: newDesc\n    };\n    const _temp = enteredTodos.items;\n\n    _temp.push(mytodo);\n\n    setEnteredTodos({\n      items: _temp\n    }); // axios.post(\"http://localhost:8000/posttodo\",[...enteredTodos,mytodo]).then((res)=>{\n    // sending the entered todos with the user id of the logged in user to the backend\n\n    axios.post(\"http://localhost:8000/posttodo\", {\n      todos: enteredTodos.items,\n      userid: localStorage.getItem('UserID')\n    }).then(res => {\n      console.log(res.data); // printing the data comes from backend in json form\n    });\n    setLoading(false);\n    inputRef.current.focus(); // this will set the input fields to its default state\n\n    setEnteredTodo(\"\");\n    setEnteredDesc(\"\");\n  };\n\n  const submitForm = event => {\n    setLoading(true);\n    event.preventDefault(); // Can't submit form with empty fields\n\n    if (enteredTodo === \"\" || enteredDesc === \"\") {\n      alert(\"Both fields are required can't be empty\");\n    } else {\n      addTodo(enteredTodo, enteredDesc);\n    }\n  };\n\n  const deleteBtn = pos => {\n    // setEnteredTodos(enteredTodos.items.filter((e)=>{return e !== item}))\n    enteredTodos.items.splice(pos, 1);\n    setEnteredTodos(enteredTodos);\n    axios.post(\"http://localhost:8000/posttodo\", {\n      todos: enteredTodos.items,\n      userid: localStorage.getItem(\"UserID\")\n    }).then(res => {\n      console.log(res);\n    });\n  };\n\n  const editItem = (item, pos) => {\n    setIsEdit(1); // giving the position of the todo which is going to be updated\n\n    setPosEdit(pos);\n    setEnteredTodo(item.todo);\n    setEnteredDesc(item.desc);\n  };\n\n  const updateBtn = event => {\n    event.preventDefault();\n    setLoading(true);\n\n    if (enteredTodo === \"\" || enteredDesc === \"\") {\n      alert(`Both fields shouldn't be Empty to Update`);\n    } else {\n      const mytodo = {\n        todo: enteredTodo,\n        desc: enteredDesc\n      };\n      enteredTodos.items.splice(posEdit, 1, mytodo);\n      axios.post(\"http://localhost:8000/posttodo\", {\n        todos: enteredTodos.items,\n        userid: localStorage.getItem(\"UserID\")\n      }).then(res => {\n        console.log(res);\n      });\n      setLoading(false);\n      setIsEdit(0);\n      setEnteredTodo(\"\");\n      setEnteredDesc(\"\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: mainDiv,\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitForm,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \" Todo Maker \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"Time :\\xA0\\xA0\", time]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 52\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: inputFields,\n        children: [loading && /*#__PURE__*/_jsxDEV(Watch, {\n          heigth: \"100\",\n          width: \"100\",\n          color: \"#a866c4\",\n          ariaLabel: \"loading\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 33\n        }, this), \"Enter Todo :\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          ref: inputRef,\n          style: inputField,\n          type: \"text\",\n          value: enteredTodo,\n          onChange: inputTodo => {\n            setEnteredTodo(inputTodo.target.value);\n          },\n          placeholder: \"Enter your Todo here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), \"Enter Desc :\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          style: inputField,\n          type: \"text\",\n          value: enteredDesc,\n          onChange: inputDesc => {\n            setEnteredDesc(inputDesc.target.value);\n          },\n          placeholder: \"Enter related description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 21\n        }, this), isEdit === 0 ? /*#__PURE__*/_jsxDEV(\"input\", {\n          style: submitBtn,\n          className: \"btn\",\n          type: \"submit\",\n          value: \"Add Todo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 37\n        }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n          style: submitBtn,\n          onClick: updateBtn,\n          children: \"Update Todo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 27\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Total Todos : \", enteredTodos.items.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: mainBox,\n      children: enteredTodos.items.map((item, pos) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          style: todoBox,\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: todoHeading,\n            children: item.todo\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: todoDesc,\n            children: item.desc\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: deleteStyle,\n            onClick: () => deleteBtn(pos),\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            style: deleteStyle,\n            onClick: () => editItem(item, pos),\n            children: \"Edit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 29\n          }, this)]\n        }, pos, true, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 25\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 9\n  }, this);\n}; // CSS Part\n\n\n_s(Todo, \"YAug6xZeppwPMAjz1v2P4vqvg7M=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Todo;\nconst mainDiv = {\n  padding: \"18px\",\n  border: \"2px solid black\",\n  margin: \"5%\",\n  borderRadius: \"15px\"\n};\nconst inputField = {\n  padding: \"5px\",\n  margin: \"10px 0px\",\n  display: \"flex\",\n  width: \"94%\",\n  fontSize: \"17px\"\n};\nconst inputFields = {\n  display: \"flex\",\n  flexDirection: \"column\"\n};\nconst submitBtn = {\n  padding: \"12px 0px\",\n  width: \"7rem\",\n  fontSize: \"17px\",\n  borderRadius: \"8px\",\n  border: \"none\",\n  color: \"white\",\n  fontWeight: \"bold\",\n  margin: \"20px 5px\",\n  backgroundColor: \"#a866c4\"\n};\nconst todoBox = {\n  border: \"1.5px solid transparent\",\n  borderRadius: \"10px\",\n  backgroundColor: \"#ad6bc2\",\n  boxShadow: \"1px 3px 5px 4px #3d3c38\",\n  width: \"94%\",\n  margin: \"15px 5px\",\n  color: \"white\"\n};\nconst mainBox = {\n  backgroundColor: \"#bdbebf\",\n  padding: \"15px 5px\",\n  margin: \"15px 0px\",\n  borderRadius: \"23px\"\n};\nconst todoHeading = {\n  padding: \"0px 2.5rem\"\n};\nconst todoDesc = {\n  padding: \"0px 2.5rem\"\n};\nconst deleteStyle = {\n  padding: \"1.5% 5%\",\n  fontSize: \"17px\",\n  fontWeight: \"bold\",\n  borderRadius: \"10px\",\n  border: \"none\",\n  margin: \"15px 5px\"\n};\nexport default Todo;\n\nvar _c;\n\n$RefreshReg$(_c, \"Todo\");","map":{"version":3,"sources":["/Users/tingbowang/Documents/GitHub/WEB503-Project3/todolist-app/src/Todo.jsx"],"names":["axios","React","useEffect","useState","useRef","Watch","useNavigate","Todo","navigate","inputRef","enteredTodos","setEnteredTodos","items","enteredTodo","setEnteredTodo","enteredDesc","setEnteredDesc","loading","setLoading","isEdit","setIsEdit","posEdit","setPosEdit","time","setTime","localStorage","getItem","post","userid","then","res","data","todos","setInterval","Date","toLocaleTimeString","addTodo","newTodo","newDesc","mytodo","todo","desc","_temp","push","console","log","current","focus","submitForm","event","preventDefault","alert","deleteBtn","pos","splice","editItem","item","updateBtn","mainDiv","inputFields","inputField","inputTodo","target","value","inputDesc","submitBtn","length","mainBox","map","todoBox","todoHeading","todoDesc","deleteStyle","padding","border","margin","borderRadius","display","width","fontSize","flexDirection","color","fontWeight","backgroundColor","boxShadow"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport React,{useEffect, useState,useRef} from 'react'\nimport { Watch } from  'react-loader-spinner'\nimport { useNavigate } from \"react-router-dom\";\nimport './todo.css';\nconst Todo = ()=>{\n    let navigate = useNavigate();\n    const inputRef = useRef()\n\n    // State variables\n    const [enteredTodos, setEnteredTodos] = useState({items:[]});\n    const [enteredTodo,setEnteredTodo] = useState(\"\");\n    const [enteredDesc,setEnteredDesc] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n\n    // showing the Update todo button when the edit button is clicked instead Add todo\n    const [isEdit,setIsEdit] = useState(0)\n\n    // giving the position of the todo in array which is to be updated\n    const [posEdit,setPosEdit] = useState(null)\n    \n    let [time, setTime] = useState(\"01 January 2022\");\n\n    useEffect(() => {\n        // here we can see that if the userId of the user is not exists in the localStorage user will navigate to the login page for login\n        if(!localStorage.getItem('UserID')) {\n            navigate(\"/login\")\n        }\n    },[navigate])\n    \n    useEffect(() => {\n        // console.log(localStorage.getItem('UserID'));\n        axios.post(\"http://localhost:8000/gettodos\",{userid:localStorage.getItem('UserID')}).then((res)=>{\n            // console.log(res.data);\n            setEnteredTodos({items: res.data.todos})\n        })\n    },[])\n\n    setInterval(()=>{\n        setTime(new Date().toLocaleTimeString())\n    },1000)\n\n    const addTodo = (newTodo,newDesc)=>{\n\n        const mytodo = {\n            todo: newTodo,\n            desc: newDesc\n        }\n        const _temp = enteredTodos.items\n        _temp.push(mytodo)\n\n        setEnteredTodos({items:_temp})\n\n        // axios.post(\"http://localhost:8000/posttodo\",[...enteredTodos,mytodo]).then((res)=>{\n        // sending the entered todos with the user id of the logged in user to the backend\n        axios.post(\"http://localhost:8000/posttodo\",{todos :enteredTodos.items,userid:localStorage.getItem('UserID')}).then((res)=>{\n            console.log(res.data);  // printing the data comes from backend in json form\n        })\n\n        setLoading(false)\n        inputRef.current.focus()\n        // this will set the input fields to its default state\n        setEnteredTodo(\"\")\n        setEnteredDesc(\"\")\n    }\n\n    const submitForm = (event)=>{\n        setLoading(true)\n        event.preventDefault();\n\n        // Can't submit form with empty fields\n        if((enteredTodo===\"\")||(enteredDesc===\"\")){\n            alert(\"Both fields are required can't be empty\")\n        }else{\n            addTodo(enteredTodo,enteredDesc);\n\n        }\n\n    }\n\n    const deleteBtn = (pos)=>{\n        // setEnteredTodos(enteredTodos.items.filter((e)=>{return e !== item}))\n        enteredTodos.items.splice(pos,1)\n        setEnteredTodos(enteredTodos)\n        axios.post(\"http://localhost:8000/posttodo\",{todos: enteredTodos.items, userid: localStorage.getItem(\"UserID\")}).then((res)=>{\n            console.log(res);\n        })\n    }\n\n    const editItem = (item,pos) => {\n        setIsEdit(1)\n\n        // giving the position of the todo which is going to be updated\n        setPosEdit(pos)\n        setEnteredTodo(item.todo)\n        setEnteredDesc(item.desc)\n    }\n\n    const updateBtn = (event) => {\n        event.preventDefault();\n        setLoading(true);\n        if((enteredTodo===\"\")||(enteredDesc===\"\")){\n            alert(`Both fields shouldn't be Empty to Update`)\n        }else{\n            const mytodo = {\n                todo: enteredTodo,\n                desc: enteredDesc\n            }\n            enteredTodos.items.splice(posEdit,1,mytodo)\n            axios.post(\"http://localhost:8000/posttodo\",{todos: enteredTodos.items, userid: localStorage.getItem(\"UserID\")}).then((res)=>{\n                console.log(res);\n            })\n            setLoading(false)\n            setIsEdit(0)\n            setEnteredTodo(\"\")\n            setEnteredDesc(\"\")\n        }\n    }\n\n    return (\n        <div style={mainDiv}>\n            <form onSubmit={submitForm}>\n                <h2> Todo Maker </h2>\n                <div>Time :&nbsp;&nbsp;{time}</div><br />\n                <div style={inputFields}>\n                    {loading && <Watch heigth=\"100\" width=\"100\" color=\"#a866c4\" ariaLabel='loading'/>}\n                    Enter Todo :&nbsp;&nbsp;&nbsp;\n                    <input \n                        ref={inputRef}\n                        style={inputField} \n                        type=\"text\"\n                        value={enteredTodo}\n                        onChange={(inputTodo)=>{setEnteredTodo(inputTodo.target.value)}}\n                        placeholder=\"Enter your Todo here\" />\n\n                    Enter Desc :&nbsp;&nbsp;&nbsp;\n                    <input \n                        style={inputField} \n                        type=\"text\"\n                        value={enteredDesc}\n                        onChange={(inputDesc)=>{setEnteredDesc(inputDesc.target.value)}} \n                        placeholder=\"Enter related description\"/>\n\n                    {isEdit === 0 ? <input \n                        style={submitBtn} \n                        className=\"btn\" \n                        type=\"submit\" \n                        value=\"Add Todo\"\n                    /> :  <button style={submitBtn} onClick={updateBtn}>Update Todo</button>        }\n\n                    \n                    <p>Total Todos : {enteredTodos.items.length}</p>\n\n                </div>\n            </form>\n                <div style={mainBox}>\n\n                    {enteredTodos.items.map((item,pos)=>{return (\n                        <div key={pos} style={todoBox}>\n                            <h4 style={todoHeading}>{item.todo}</h4>\n                            <p style={todoDesc}>{item.desc}</p>\n                            <button style={deleteStyle} onClick={()=>deleteBtn(pos)}>Delete</button>\n                            <button style={deleteStyle} onClick={()=>editItem(item,pos)}>Edit</button>\n                        </div>\n                    )})}\n                </div>\n        </div>\n    )\n}\n\n// CSS Part\nconst mainDiv = {\n    padding:\"18px\",\n    border:\"2px solid black\",\n    margin:\"5%\",\n    borderRadius:\"15px\"\n}\nconst inputField = {\n    padding:\"5px\",\n    margin:\"10px 0px\",\n    display: \"flex\",\n    width: \"94%\",\n    fontSize: \"17px\"\n}\nconst inputFields = {\n    display: \"flex\",\n    flexDirection: \"column\"\n}\nconst submitBtn = {\n    padding: \"12px 0px\",\n    width: \"7rem\",\n    fontSize: \"17px\",\n    borderRadius: \"8px\",\n    border: \"none\",\n    color:\"white\",\n    fontWeight:\"bold\",\n    margin: \"20px 5px\",\n    backgroundColor: \"#a866c4\"\n}\nconst todoBox = {\n    border:\"1.5px solid transparent\",\n    borderRadius:\"10px\",\n    backgroundColor:\"#ad6bc2\",\n    boxShadow: \"1px 3px 5px 4px #3d3c38\",\n    width:\"94%\",\n    margin:\"15px 5px\",\n    color:\"white\"\n}\nconst mainBox = {\n    backgroundColor:\"#bdbebf\",\n    padding:\"15px 5px\",\n    margin: \"15px 0px\",\n    borderRadius: \"23px\"\n\n}\nconst todoHeading = {\n    padding:\"0px 2.5rem\"\n}\nconst todoDesc = {\n    padding: \"0px 2.5rem\"\n}\n\nconst deleteStyle = {\n    padding: \"1.5% 5%\",\n    fontSize: \"17px\",\n    fontWeight: \"bold\",\n    borderRadius: \"10px\",\n    border:\"none\",\n    margin: \"15px 5px\"\n}\n\nexport default Todo"]},"metadata":{},"sourceType":"module"}